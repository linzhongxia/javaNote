<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="file:///Users/linzhongxia/.markdownNavigator/multimarkdown_layout.css">
    <style>

        body.multimarkdown-preview,
        body.multimarkdown-wiki-preview {
            font-size: 11px;
        }
    </style>
    <link rel="stylesheet" href="file:///Users/linzhongxia/.markdownNavigator/multimarkdown_default.css">
</head>
<body class="multimarkdown-preview">
<div class="content">
    <div class="page-header"><a href="https://github.com/linzhongxia/javaNote/blob/master/src/main/java/com/note/jd/coupon/database.md" name="wikipage" id="wikipage" title="Click here to open the file on GitHub">database.md</a></div>
    <div class="hr"></div>
    <pre md-pos="0-781"><code class="sql" md-pos="8-777">CREATE TABLE `brands_coupon_activity` (
  `activity_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `activity_name` varchar(40) NOT NULL COMMENT '活动名称',
  `start_activity_date` datetime NOT NULL COMMENT '活动开始时间',
  `end_activity_date` datetime NOT NULL COMMENT '活动结束时间',
  `activity_type` tinyint(1) NOT NULL COMMENT '活动类型',
  `activity_status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '活动状态',
  `creater` varchar(50) NOT NULL COMMENT '创建人',
  `create_date` datetime NOT NULL COMMENT '创建时间',
  `modified_date` datetime NOT NULL COMMENT '修改时间',
  `modifier` varchar(50) NOT NULL COMMENT '修改人',
  PRIMARY KEY (`activity_id`),
  KEY `idx_activity_type` (`activity_type`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 4046 DEFAULT CHARSET = utf8 COMMENT = '精准营销活动表'
</code></pre>
    <pre md-pos="782-3802"><code class="sql" md-pos="790-3798">CREATE TABLE `brands_coupon_info` (
  `coupon_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '优惠券id',
  `coupon_name` varchar(50) NOT NULL COMMENT '优惠券名称',
  `coupon_type` tinyint(1) unsigned NOT NULL COMMENT '优惠券类型(1 门店券)',
  `brands_id` bigint(20) unsigned NOT NULL COMMENT '品牌id',
  `brands_logo` varchar(200) NOT NULL COMMENT '品牌logo',
  `brands_name` varchar(50) NOT NULL COMMENT '品牌名称',
  `coupon_color` varchar(20) DEFAULT NULL COMMENT '门店券颜色',
  `cover_img` varchar(200) DEFAULT NULL COMMENT '门店券封面',
  `cover_introduce` varchar(50) DEFAULT NULL COMMENT '封面介绍',
  `notice` varchar(300) NOT NULL COMMENT '使用须知',
  `coupon_amount` bigint(20) unsigned NOT NULL COMMENT '单张优惠券面值',
  `quota` bigint(20) unsigned DEFAULT '0' COMMENT '使用条件(满多少使用，默认为0)',
  `start_date` datetime DEFAULT NULL COMMENT '有效开始时间',
  `end_date` datetime DEFAULT NULL COMMENT '有效结束时间',
  `effective` int(5) DEFAULT '-1' COMMENT '领取后生效时间',
  `effective_day` int(5) DEFAULT '-1' COMMENT '有效天数',
  `effective_type` tinyint(1) unsigned NOT NULL COMMENT '有效期类型(0固定期限1领取设置时间生效)',
  `coupon_num` int(10) unsigned NOT NULL COMMENT '优惠券发放总量',
  `coupon_put_num` int(10) unsigned DEFAULT '0' COMMENT '优惠券发放量',
  `sell_type` tinyint(1) unsigned NOT NULL COMMENT '发行数量类型(0 按总量  1按门店)',
  `all_store` tinyint(1) DEFAULT NULL COMMENT '是否全部门店',
  `shared_type` tinyint(1) unsigned NOT NULL COMMENT '优惠券共享模式(是否可以叠加 0否 1是)',
  `per_coupon` int(5) unsigned DEFAULT '0' COMMENT '每人领取数量',
  `put_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '投放状态(0未开始 1正常 2停止 3已领完)',
  `start_put_date` datetime DEFAULT NULL COMMENT '开始投放时间',
  `end_put_date` datetime DEFAULT NULL COMMENT '结束投放时间',
  `touch_channel` tinyint(1) DEFAULT NULL COMMENT '触达通道（0app）',
  `target_customer` tinyint(1) unsigned DEFAULT NULL COMMENT '目标人群（0无限制）',
  `ext` varchar(200) DEFAULT '' COMMENT '扩展字段',
  `version` varchar(20) NOT NULL COMMENT '版本号',
  `rf_type` tinyint(1) unsigned NOT NULL COMMENT '外部业务类型',
  `rf_id` varchar(50) NOT NULL COMMENT '外部业务ID',
  `bid` bigint(20) NOT NULL COMMENT '经营主体',
  `create_type` tinyint(1) DEFAULT '0' COMMENT '创建类型',
  `create_date` datetime NOT NULL COMMENT '创建时间',
  `creater` varchar(50) NOT NULL COMMENT '创建人',
  `modified_date` datetime NOT NULL COMMENT '修改时间',
  `modifier` varchar(50) NOT NULL COMMENT '修改人',
  `activity_id` bigint(20) DEFAULT NULL COMMENT '活动id',
  `audit_status` tinyint(1) DEFAULT '0' COMMENT '审核状态（0待审核 1审核通过 2审核驳回）',
  `auditor` varchar(50) DEFAULT '' COMMENT '审核人',
  `audit_opinion` varchar(200) DEFAULT NULL COMMENT '审核意见',
  `audit_time` datetime DEFAULT NULL COMMENT '审核时间',
  `publish_type` tinyint(1) DEFAULT NULL COMMENT '发行方式 0-专有券 1-联合券',
  `need_join_brand` tinyint(1) DEFAULT NULL COMMENT '领券是否需要加入会员 1-需要 0-不需要',
  `confirm_date` datetime DEFAULT NULL COMMENT '确认时间',
  PRIMARY KEY (`coupon_id`, `bid`),
  KEY `idx_coupon_name` (`coupon_name`),
  KEY `index_bid_brands_id` (`bid`, `brands_id`)
) ENGINE = InnoDB AUTO_INCREMENT = 45219 DEFAULT CHARSET = utf8 COMMENT = '优惠劵基本信息表'
</code></pre>
</div>
</body>
</html>
